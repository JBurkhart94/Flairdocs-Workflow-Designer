<?xml version="1.0" encoding="utf-8"?>
<Schema xmlns="http://schemas.microsoft.com/ado/2009/11/edm" xmlns:cg="http://schemas.microsoft.com/ado/2006/04/codegeneration" xmlns:store="http://schemas.microsoft.com/ado/2007/12/edm/EntityStoreSchemaGenerator" Namespace="Workflow" Alias="Self" xmlns:annotation="http://schemas.microsoft.com/ado/2009/02/edm/annotation" annotation:UseStrongSpatialTypes="false">
  <EntityContainer Name="WorkflowContext" annotation:LazyLoadingEnabled="true">
    <EntitySet Name="Workflows" EntityType="Workflow.Workflow" />
    <EntitySet Name="Steps" EntityType="Workflow.Step" />
    <EntitySet Name="Reviewers" EntityType="Workflow.Reviewer" />
    <AssociationSet Name="WorkflowStep" Association="Workflow.WorkflowStep">
      <End Role="Workflow" EntitySet="Workflows" />
      <End Role="Step" EntitySet="Steps" />
    </AssociationSet>
    <EntitySet Name="AuditLogs" EntityType="Workflow.AuditLog" />
    <AssociationSet Name="WorkflowAuditLog" Association="Workflow.WorkflowAuditLog">
      <End Role="Workflow" EntitySet="Workflows" />
      <End Role="AuditLog" EntitySet="AuditLogs" />
    </AssociationSet>
    <EntitySet Name="Transitions" EntityType="Workflow.Transition" />
    <AssociationSet Name="WorkflowTransition" Association="Workflow.WorkflowTransition">
      <End Role="Workflow" EntitySet="Workflows" />
      <End Role="Transition" EntitySet="Transitions" />
    </AssociationSet>
    <EntitySet Name="Attributes" EntityType="Workflow.Attribute" />
    <AssociationSet Name="ReviewerAttribute" Association="Workflow.ReviewerAttribute">
      <End Role="Reviewer" EntitySet="Reviewers" />
      <End Role="Attribute" EntitySet="Attributes" />
    </AssociationSet>
    <AssociationSet Name="StepReviewer" Association="Workflow.StepReviewer">
      <End Role="Step" EntitySet="Steps" />
      <End Role="Reviewer" EntitySet="Reviewers" />
    </AssociationSet>
    <EntitySet Name="Audits" EntityType="Workflow.Audit" />
    <AssociationSet Name="AuditLogAudit" Association="Workflow.AuditLogAudit">
      <End Role="AuditLog" EntitySet="AuditLogs" />
      <End Role="Audit" EntitySet="Audits" />
    </AssociationSet>
  </EntityContainer>
  <EntityType Name="Workflow">
    <Key>
      <PropertyRef Name="Id" />
    </Key>
    <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
    <Property Name="Title" Type="String" Nullable="false" />
    <NavigationProperty Name="Steps" Relationship="Workflow.WorkflowStep" FromRole="Workflow" ToRole="Step" />
    <NavigationProperty Name="AuditLog" Relationship="Workflow.WorkflowAuditLog" FromRole="Workflow" ToRole="AuditLog" />
    <NavigationProperty Name="Transitions" Relationship="Workflow.WorkflowTransition" FromRole="Workflow" ToRole="Transition" />
    <Property Name="Creation_Date" Type="String" Nullable="false" />
    <Property Name="Status" Type="String" Nullable="false" />
  </EntityType>
  <EntityType Name="Step">
    <Key>
      <PropertyRef Name="Id" />
    </Key>
    <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
    <NavigationProperty Name="Workflow" Relationship="Workflow.WorkflowStep" FromRole="Step" ToRole="Workflow" />
    <Property Name="WorkflowId" Type="Int32" Nullable="false" />
    <Property Name="Creation_Date" Type="String" Nullable="false" />
    <NavigationProperty Name="Reviewers" Relationship="Workflow.StepReviewer" FromRole="Step" ToRole="Reviewer" />
  </EntityType>
  <EntityType Name="Reviewer">
    <Key>
      <PropertyRef Name="Id" />
    </Key>
    <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
    <Property Name="Role" Type="String" Nullable="false" />
    <Property Name="Creation_Date" Type="String" Nullable="false" />
    <NavigationProperty Name="Attributes" Relationship="Workflow.ReviewerAttribute" FromRole="Reviewer" ToRole="Attribute" />
    <NavigationProperty Name="Step" Relationship="Workflow.StepReviewer" FromRole="Reviewer" ToRole="Step" />
    <Property Name="StepId" Type="Int32" Nullable="false" />
  </EntityType>
  <Association Name="WorkflowStep">
    <End Type="Workflow.Workflow" Role="Workflow" Multiplicity="1" />
    <End Type="Workflow.Step" Role="Step" Multiplicity="*" />
    <ReferentialConstraint>
      <Principal Role="Workflow">
        <PropertyRef Name="Id" />
      </Principal>
      <Dependent Role="Step">
        <PropertyRef Name="WorkflowId" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <EntityType Name="AuditLog">
    <Key>
      <PropertyRef Name="Id" />
    </Key>
    <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
    <NavigationProperty Name="Workflow" Relationship="Workflow.WorkflowAuditLog" FromRole="AuditLog" ToRole="Workflow" />
    <NavigationProperty Name="Audits" Relationship="Workflow.AuditLogAudit" FromRole="AuditLog" ToRole="Audit" />
  </EntityType>
  <Association Name="WorkflowAuditLog">
    <End Type="Workflow.Workflow" Role="Workflow" Multiplicity="1" />
    <End Type="Workflow.AuditLog" Role="AuditLog" Multiplicity="1" />
  </Association>
  <EntityType Name="Transition">
    <Key>
      <PropertyRef Name="Id" />
    </Key>
    <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
    <Property Name="Conditions" Type="String" Nullable="false" />
    <NavigationProperty Name="Workflow" Relationship="Workflow.WorkflowTransition" FromRole="Transition" ToRole="Workflow" />
    <Property Name="WorkflowId" Type="Int32" Nullable="false" />
  </EntityType>
  <Association Name="WorkflowTransition">
    <End Type="Workflow.Workflow" Role="Workflow" Multiplicity="1" />
    <End Type="Workflow.Transition" Role="Transition" Multiplicity="*" />
    <ReferentialConstraint>
      <Principal Role="Workflow">
        <PropertyRef Name="Id" />
      </Principal>
      <Dependent Role="Transition">
        <PropertyRef Name="WorkflowId" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <EntityType Name="Attribute">
    <Key>
      <PropertyRef Name="Id" />
    </Key>
    <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
    <NavigationProperty Name="Reviewer" Relationship="Workflow.ReviewerAttribute" FromRole="Attribute" ToRole="Reviewer" />
    <Property Name="ReviewerId" Type="Int32" Nullable="false" />
    <Property Name="Creation_Date" Type="String" Nullable="false" />
  </EntityType>
  <Association Name="ReviewerAttribute">
    <End Type="Workflow.Reviewer" Role="Reviewer" Multiplicity="1" />
    <End Type="Workflow.Attribute" Role="Attribute" Multiplicity="*" />
    <ReferentialConstraint>
      <Principal Role="Reviewer">
        <PropertyRef Name="Id" />
      </Principal>
      <Dependent Role="Attribute">
        <PropertyRef Name="ReviewerId" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <Association Name="StepReviewer">
    <End Type="Workflow.Step" Role="Step" Multiplicity="1" />
    <End Type="Workflow.Reviewer" Role="Reviewer" Multiplicity="*" />
    <ReferentialConstraint>
      <Principal Role="Step">
        <PropertyRef Name="Id" />
      </Principal>
      <Dependent Role="Reviewer">
        <PropertyRef Name="StepId" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
  <EntityType Name="Audit">
    <Key>
      <PropertyRef Name="Id" />
    </Key>
    <Property Name="Id" Type="Int32" Nullable="false" annotation:StoreGeneratedPattern="Identity" />
    <NavigationProperty Name="AuditLog" Relationship="Workflow.AuditLogAudit" FromRole="Audit" ToRole="AuditLog" />
    <Property Name="AuditLogId" Type="Int32" Nullable="false" />
    <Property Name="Entry" Type="String" Nullable="false" />
  </EntityType>
  <Association Name="AuditLogAudit">
    <End Type="Workflow.AuditLog" Role="AuditLog" Multiplicity="1" />
    <End Type="Workflow.Audit" Role="Audit" Multiplicity="*" />
    <ReferentialConstraint>
      <Principal Role="AuditLog">
        <PropertyRef Name="Id" />
      </Principal>
      <Dependent Role="Audit">
        <PropertyRef Name="AuditLogId" />
      </Dependent>
    </ReferentialConstraint>
  </Association>
</Schema>